<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Kapitola 6 Porovnání dvou průměrů a relativních četností | Úvod do statistiky</title>
  <meta name="description" content="Tato kniha obsahuje materiál ke cvičení kurzu Úvod do statistiky (JSB535)." />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Kapitola 6 Porovnání dvou průměrů a relativních četností | Úvod do statistiky" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Tato kniha obsahuje materiál ke cvičení kurzu Úvod do statistiky (JSB535)." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kapitola 6 Porovnání dvou průměrů a relativních četností | Úvod do statistiky" />
  
  <meta name="twitter:description" content="Tato kniha obsahuje materiál ke cvičení kurzu Úvod do statistiky (JSB535)." />
  

<meta name="author" content="Jan Schubert" />


<meta name="date" content="2022-05-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="stats-test-single.html"/>
<link rel="next" href="porovnání-více-relativních-četností.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Úvod do statistiky</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Úvod<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#příklad-popisné-statistiky"><i class="fa fa-check"></i><b>1.1</b> Příklad popisné statistiky<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#příklad-inferenční-statistiky"><i class="fa fa-check"></i><b>1.2</b> Příklad inferenční statistiky<span></span></a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#simulace"><i class="fa fa-check"></i><b>1.3</b> Simulace<span></span></a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#o-modelech"><i class="fa fa-check"></i><b>1.4</b> O modelech<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="desc-stats.html"><a href="desc-stats.html"><i class="fa fa-check"></i><b>2</b> Popisná statistika<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="desc-stats.html"><a href="desc-stats.html#central-tend"><i class="fa fa-check"></i><b>2.1</b> Míry centrální tendence<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="desc-stats.html"><a href="desc-stats.html#desc-vars"><i class="fa fa-check"></i><b>2.2</b> Míry rozptýlenosti<span></span></a></li>
<li class="chapter" data-level="2.3" data-path="desc-stats.html"><a href="desc-stats.html#kvantily"><i class="fa fa-check"></i><b>2.3</b> Míry polohy<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="prob-dist.html"><a href="prob-dist.html"><i class="fa fa-check"></i><b>3</b> Pravděpodobnostní rozdělení<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="prob-dist.html"><a href="prob-dist.html#stats-lang"><i class="fa fa-check"></i><b>3.1</b> Pravděpodobnostní rozdělení jako jazyk statistiky<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="prob-dist.html"><a href="prob-dist.html#binom-dist"><i class="fa fa-check"></i><b>3.2</b> Binomické<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="prob-dist.html"><a href="prob-dist.html#norm-dist"><i class="fa fa-check"></i><b>3.3</b> Normální<span></span></a></li>
<li class="chapter" data-level="3.4" data-path="prob-dist.html"><a href="prob-dist.html#t-dist"><i class="fa fa-check"></i><b>3.4</b> T<span></span></a></li>
<li class="chapter" data-level="3.5" data-path="prob-dist.html"><a href="prob-dist.html#unif-dist"><i class="fa fa-check"></i><b>3.5</b> Uniformní<span></span></a></li>
<li class="chapter" data-level="3.6" data-path="prob-dist.html"><a href="prob-dist.html#pois-dist"><i class="fa fa-check"></i><b>3.6</b> Poisson<span></span></a></li>
<li class="chapter" data-level="3.7" data-path="prob-dist.html"><a href="prob-dist.html#chi-kvadrát"><i class="fa fa-check"></i><b>3.7</b> Chi-kvadrát<span></span></a></li>
<li class="chapter" data-level="3.8" data-path="prob-dist.html"><a href="prob-dist.html#jak-vybrat-správný-model-pro-data"><i class="fa fa-check"></i><b>3.8</b> Jak vybrat správný model pro data<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dist-params.html"><a href="dist-params.html"><i class="fa fa-check"></i><b>4</b> Výběrové rozdělení parametrů<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="dist-params.html"><a href="dist-params.html#clv-procento"><i class="fa fa-check"></i><b>4.1</b> Relativní četnost<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="dist-params.html"><a href="dist-params.html#clv-is"><i class="fa fa-check"></i><b>4.2</b> Interval spolehlivosti<span></span></a></li>
<li class="chapter" data-level="4.3" data-path="dist-params.html"><a href="dist-params.html#bootstrap"><i class="fa fa-check"></i><b>4.3</b> Bootstrap<span></span></a></li>
<li class="chapter" data-level="4.4" data-path="dist-params.html"><a href="dist-params.html#clv-mean"><i class="fa fa-check"></i><b>4.4</b> Průměr<span></span></a></li>
<li class="chapter" data-level="4.5" data-path="dist-params.html"><a href="dist-params.html#rozptyl"><i class="fa fa-check"></i><b>4.5</b> Rozptyl<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="stats-test-single.html"><a href="stats-test-single.html"><i class="fa fa-check"></i><b>5</b> Statistické testování<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="stats-test-single.html"><a href="stats-test-single.html#postup-statistického-testování"><i class="fa fa-check"></i><b>5.1</b> Postup statistického testování<span></span></a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="stats-test-single.html"><a href="stats-test-single.html#zvolení-testu"><i class="fa fa-check"></i><b>5.1.1</b> Zvolení testu<span></span></a></li>
<li class="chapter" data-level="5.1.2" data-path="stats-test-single.html"><a href="stats-test-single.html#test-h0"><i class="fa fa-check"></i><b>5.1.2</b> Formulace nulové a alternativní hypotézy<span></span></a></li>
<li class="chapter" data-level="5.1.3" data-path="stats-test-single.html"><a href="stats-test-single.html#test-t-statistika"><i class="fa fa-check"></i><b>5.1.3</b> Výpočet testovací statistiky<span></span></a></li>
<li class="chapter" data-level="5.1.4" data-path="stats-test-single.html"><a href="stats-test-single.html#interpretace-výsledku"><i class="fa fa-check"></i><b>5.1.4</b> Interpretace výsledku<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="stats-test-single.html"><a href="stats-test-single.html#velikost-účinku"><i class="fa fa-check"></i><b>5.2</b> Velikost účinku<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="stats-test-single.html"><a href="stats-test-single.html#souvislost-s-intervalem-spolehlivosti"><i class="fa fa-check"></i><b>5.3</b> Souvislost s intervalem spolehlivosti<span></span></a></li>
<li class="chapter" data-level="5.4" data-path="stats-test-single.html"><a href="stats-test-single.html#test-power"><i class="fa fa-check"></i><b>5.4</b> Síla testu<span></span></a></li>
<li class="chapter" data-level="5.5" data-path="stats-test-single.html"><a href="stats-test-single.html#velikost-výběru"><i class="fa fa-check"></i><b>5.5</b> Velikost výběru<span></span></a></li>
<li class="chapter" data-level="5.6" data-path="stats-test-single.html"><a href="stats-test-single.html#tests-many"><i class="fa fa-check"></i><b>5.6</b> Mnoho testů<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="porovnání-dvou-průměrů-a-relativních-četností.html"><a href="porovnání-dvou-průměrů-a-relativních-četností.html"><i class="fa fa-check"></i><b>6</b> Porovnání dvou průměrů a relativních četností<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="porovnání-dvou-průměrů-a-relativních-četností.html"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#průměry"><i class="fa fa-check"></i><b>6.1</b> Průměry<span></span></a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="porovnání-dvou-průměrů-a-relativních-četností.html"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#t2-test-ind"><i class="fa fa-check"></i><b>6.1.1</b> Dva nezávislé výběry<span></span></a></li>
<li class="chapter" data-level="6.1.2" data-path="porovnání-dvou-průměrů-a-relativních-četností.html"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#dva-závislé-výběry"><i class="fa fa-check"></i><b>6.1.2</b> Dva závislé výběry<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="porovnání-dvou-průměrů-a-relativních-četností.html"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#relativní-četnosti"><i class="fa fa-check"></i><b>6.2</b> Relativní četnosti<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="porovnání-více-relativních-četností.html"><a href="porovnání-více-relativních-četností.html"><i class="fa fa-check"></i><b>7</b> Porovnání více relativních četností<span></span></a>
<ul>
<li class="chapter" data-level="7.1" data-path="porovnání-více-relativních-četností.html"><a href="porovnání-více-relativních-četností.html#test-dobré-shody"><i class="fa fa-check"></i><b>7.1</b> Test dobré shody<span></span></a></li>
<li class="chapter" data-level="7.2" data-path="porovnání-více-relativních-četností.html"><a href="porovnání-více-relativních-četností.html#chi-kvadrát-test-nezávislosti"><i class="fa fa-check"></i><b>7.2</b> Chi-kvadrát test nezávislosti<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="porovnání-více-průměrů.html"><a href="porovnání-více-průměrů.html"><i class="fa fa-check"></i><b>8</b> Porovnání více průměrů<span></span></a>
<ul>
<li class="chapter" data-level="8.1" data-path="porovnání-více-průměrů.html"><a href="porovnání-více-průměrů.html#problém-více-testů"><i class="fa fa-check"></i><b>8.1</b> Problém více testů<span></span></a></li>
<li class="chapter" data-level="8.2" data-path="porovnání-více-průměrů.html"><a href="porovnání-více-průměrů.html#anova"><i class="fa fa-check"></i><b>8.2</b> ANOVA<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="korelace.html"><a href="korelace.html"><i class="fa fa-check"></i><b>9</b> Korelace<span></span></a>
<ul>
<li class="chapter" data-level="9.1" data-path="korelace.html"><a href="korelace.html#kovariance"><i class="fa fa-check"></i><b>9.1</b> Kovariance<span></span></a></li>
<li class="chapter" data-level="9.2" data-path="korelace.html"><a href="korelace.html#korelační-koeficient"><i class="fa fa-check"></i><b>9.2</b> Korelační koeficient<span></span></a></li>
<li class="chapter" data-level="9.3" data-path="korelace.html"><a href="korelace.html#statistické-testování-a-interval-spolehlivosti"><i class="fa fa-check"></i><b>9.3</b> Statistické testování a interval spolehlivosti<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="neparametrické-testy.html"><a href="neparametrické-testy.html"><i class="fa fa-check"></i><b>10</b> Neparametrické testy<span></span></a>
<ul>
<li class="chapter" data-level="10.1" data-path="neparametrické-testy.html"><a href="neparametrické-testy.html#znaménkový-test"><i class="fa fa-check"></i><b>10.1</b> Znaménkový test<span></span></a></li>
<li class="chapter" data-level="10.2" data-path="neparametrické-testy.html"><a href="neparametrické-testy.html#mann-whitney-u-test"><i class="fa fa-check"></i><b>10.2</b> Mann-Whitney U test<span></span></a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a>
<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png" /></a><br />Tato kniha podléhá <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International License</a>.
</li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Úvod do statistiky</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="porovnání-dvou-průměrů-a-relativních-četností" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Kapitola 6</span> Porovnání dvou průměrů a relativních četností<a href="porovnání-dvou-průměrů-a-relativních-četností.html#porovnání-dvou-průměrů-a-relativních-četností" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>V této kapitole si představíme, jak porovnat dva průměry nebo relativní četnosti náhodných proměnných. Porovnání dvou průměrů je častou metodou při experimentech, kdy jsou pozorování rozdělena <strong>náhodně do dvou skupin</strong>, jedna ze skupin je vystavena nějaké intervenci, kterou zkoumáme (tzv. experimentální skupina), druhá je vystavena placebo (tzv. kontrolní skupina) a potom jsou výsledky měřené proměnné porovnány za obě skupiny<a href="#fn31" class="footnote-ref" id="fnref31"><sup>31</sup></a>. Výsledné měření je náhodnou proměnnou, protože jsme pozorování náhodně rozřadili do kontrolní a experimentální skupiny. Náhodné rozřazení je přitom důležité, protože měřená proměnná může být ovlivněna různými faktory, které jsou díky náhodnému rozdělení přiřazeny do kontrolní a experiemntální skupiny zhruba ve stejném počtu. Typickým příkladem náhodného experimentu jsou klinické testy, v kterých se posuzuje účinnost léků. Kromě náhodnosti rozdělení do obou skupin předpokládáme také, že pozorování jsou na sobě <strong>nezávislá</strong>.</p>
<div id="průměry" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Průměry<a href="porovnání-dvou-průměrů-a-relativních-četností.html#průměry" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="t2-test-ind" class="section level3 hasAnchor" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> Dva nezávislé výběry<a href="porovnání-dvou-průměrů-a-relativních-četností.html#t2-test-ind" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Při zkoušce máme připravené dvě verze testu. Studentům náhodně přiřadíme jednu z verzí. Tabulka dole ukazuje popisné statistiky našich dat.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb93-1" aria-hidden="true" tabindex="-1"></a>dats <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/schubertjan/uvod-do-statistiky/master/dats/test.csv&quot;</span>, <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span>)</span>
<span id="cb93-2"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(dats)</span></code></pre></div>
<pre><code>##        id         verze          hodnotitel      body      
##  Min.   : 1   verze_1:8   hodnotitel_1:8    Min.   :15.00  
##  1st Qu.: 5   verze_2:9   hodnotitel_2:9    1st Qu.:28.50  
##  Median : 9                                 Median :44.50  
##  Mean   : 9                                 Mean   :41.62  
##  3rd Qu.:13                                 3rd Qu.:49.50  
##  Max.   :17                                 Max.   :65.50</code></pre>
<p>Testu se celkem zúčastnilo 17 studentů. 8 obrželo verzi 1 a 9 obdrželo verzi 2. Zajímá nás, zda byly obě verze testu stejně obtížné. Obtížnost testů budeme měřit průměrným počtem bodů pro každou verzi testu. Graf <a href="porovnání-dvou-průměrů-a-relativních-četností.html#fig:test-points">6.1</a> ukazuje rozdělení počtu bodů podle verze testu. Z grafu je zřejmé, že verze 2 bude mít vyšší průměrný počet bodů, ale také větší rozptyl ve výsledcích.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># vytvorime barvy</span></span>
<span id="cb95-2"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-2" aria-hidden="true" tabindex="-1"></a>cols <span class="ot">&lt;-</span> <span class="fu">rev</span>(RColorBrewer<span class="sc">::</span><span class="fu">brewer.pal</span>(<span class="dv">3</span>, <span class="at">name =</span> <span class="st">&quot;Blues&quot;</span>))</span>
<span id="cb95-3"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-4"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-5"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(dats<span class="sc">$</span>body[dats<span class="sc">$</span>verze <span class="sc">==</span> <span class="st">&quot;verze_1&quot;</span>], <span class="fu">rep</span>(<span class="fl">1.5</span>, <span class="fu">sum</span>(dats<span class="sc">$</span>verze <span class="sc">==</span> <span class="st">&quot;verze_1&quot;</span>)),</span>
<span id="cb95-6"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">70</span>),</span>
<span id="cb95-7"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>),</span>
<span id="cb95-8"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch =</span> <span class="dv">19</span>,</span>
<span id="cb95-9"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb95-10"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">yaxt =</span> <span class="st">&quot;n&quot;</span>,</span>
<span id="cb95-11"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-11" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="fu">adjustcolor</span>(cols[<span class="dv">1</span>], <span class="at">alpha.f =</span> <span class="fl">0.8</span>)</span>
<span id="cb95-12"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-13"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-13" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(dats<span class="sc">$</span>body[dats<span class="sc">$</span>verze <span class="sc">==</span> <span class="st">&quot;verze_2&quot;</span>], <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">sum</span>(dats<span class="sc">$</span>verze <span class="sc">==</span> <span class="st">&quot;verze_2&quot;</span>)),</span>
<span id="cb95-14"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-14" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch =</span> <span class="dv">19</span>,</span>
<span id="cb95-15"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-15" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="fu">adjustcolor</span>(cols[<span class="dv">2</span>], <span class="at">alpha.f =</span> <span class="fl">0.8</span>)</span>
<span id="cb95-16"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-17"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-18"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-18" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topright&quot;</span>,</span>
<span id="cb95-19"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-19" aria-hidden="true" tabindex="-1"></a>     <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&quot;Verze 1&quot;</span>, <span class="st">&quot;Verze 2&quot;</span>),</span>
<span id="cb95-20"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-20" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> cols[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],</span>
<span id="cb95-21"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-21" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">19</span>),</span>
<span id="cb95-22"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-22" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex =</span> <span class="fl">0.7</span></span>
<span id="cb95-23"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb95-23" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:test-points"></span>
<img src="book_files/figure-html/test-points-1.png" alt="Rozdělení počtu bodů podle verze testu" width="672" />
<p class="caption">
Graf 6.1: Rozdělení počtu bodů podle verze testu
</p>
</div>
<p>Počet bodů je náhodná proměnná. Závisí na studentech, kterým byla verze náhodně přiřazena. Studenti mají různou úroveň znalostí, ale průměrný počet bodů bude ovlivněn i tím, že např. některý student ráno zaspal a byl ve stresu nebo tím, že se někdo špatně vyspal. Protože přiřazujeme verze testu náhodně jsou i tyto efekty náhodně rozptýleny do obou skupin. Pokud jsou obě verze stejně obtížné, očekávali bychom, že studenti v obou skupinách budou mít stejný průměrný počet bodů. Jak víme z <a href="dist-params.html#dist-params">4</a>, rozložení průměru náhodné proměnné <span class="math inline">\(x_i\)</span> lze popsat pomocí <span class="math inline">\(T(\overline{x}, \frac{s}{\sqrt{n}}, n-1)\)</span>. V našem případě máme <span class="math inline">\(T(\overline{x_1}, \frac{s_1}{\sqrt{n_1}}, n_1-1)\)</span> a <span class="math inline">\(T(\overline{x_2}, \frac{s_2}{\sqrt{n_2}}, n_2-1)\)</span>. Pojďme se tedy podívat na výběrové rozdělení obou průměrů. Abychom nemuseli výběrové statistiky počítat samostatně pro každou skupinu, použijeme k výpčtu funkce <code>sapply</code>, která je zkrácenou formou <code>for</code> loop<a href="#fn32" class="footnote-ref" id="fnref32"><sup>32</sup></a> a funkci <code>aggregate</code>, která vypočítá zadanou funkci pro zvolené skupiny.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># vyvorime si funkci na vypocet smerodatne chyby odhadu</span></span>
<span id="cb96-2"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-2" aria-hidden="true" tabindex="-1"></a>se <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb96-3"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-3" aria-hidden="true" tabindex="-1"></a>     n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb96-4"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-4" aria-hidden="true" tabindex="-1"></a>     <span class="fu">sd</span>(x) <span class="sc">/</span> <span class="fu">sqrt</span>(n)</span>
<span id="cb96-5"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb96-6"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-7"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-7" aria-hidden="true" tabindex="-1"></a><span class="co"># pro kazdou funkci vypocitame aggregate</span></span>
<span id="cb96-8"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-8" aria-hidden="true" tabindex="-1"></a>vyber_stats <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">c</span>(length, mean, sd, se), <span class="cf">function</span>(f) <span class="fu">aggregate</span>(body <span class="sc">~</span> verze, <span class="at">FUN =</span> f, <span class="at">data =</span> dats)[, <span class="dv">2</span>])</span>
<span id="cb96-9"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-9" aria-hidden="true" tabindex="-1"></a><span class="co"># pojmenujeme sloupce</span></span>
<span id="cb96-10"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-10" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(vyber_stats) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;n&quot;</span>, <span class="st">&quot;mu&quot;</span>, <span class="st">&quot;sd&quot;</span>, <span class="st">&quot;se&quot;</span>)</span>
<span id="cb96-11"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-12"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-12" aria-hidden="true" tabindex="-1"></a><span class="co"># zvolime x pro ktere budeme pocitat PDF</span></span>
<span id="cb96-13"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-13" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">20</span>, <span class="at">to =</span> <span class="dv">65</span>, <span class="at">length.out =</span> <span class="dv">1000</span>)</span>
<span id="cb96-14"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-14" aria-hidden="true" tabindex="-1"></a><span class="co"># vypocitame PDF vyberoveho rozdeleni prumeru 1 podle zobecneneho t-rozdeleni</span></span>
<span id="cb96-15"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-15" aria-hidden="true" tabindex="-1"></a>pdf_prumer_1 <span class="ot">&lt;-</span> <span class="fu">dt</span>((x <span class="sc">-</span> vyber_stats[<span class="dv">1</span>, <span class="st">&quot;mu&quot;</span>]) <span class="sc">/</span></span>
<span id="cb96-16"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-16" aria-hidden="true" tabindex="-1"></a>     vyber_stats[<span class="dv">1</span>, <span class="st">&quot;se&quot;</span>],</span>
<span id="cb96-17"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-17" aria-hidden="true" tabindex="-1"></a><span class="at">df =</span> vyber_stats[<span class="dv">1</span>, <span class="st">&quot;n&quot;</span>] <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb96-18"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-18" aria-hidden="true" tabindex="-1"></a>) <span class="sc">*</span> <span class="dv">1</span> <span class="sc">/</span> vyber_stats[<span class="dv">1</span>, <span class="st">&quot;se&quot;</span>]</span>
<span id="cb96-19"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-19" aria-hidden="true" tabindex="-1"></a><span class="co"># vypocitame PDF vyberoveho rozdeleni prumeru 2 podle zobecneneho t-rozdeleni</span></span>
<span id="cb96-20"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-20" aria-hidden="true" tabindex="-1"></a>pdf_prumer_2 <span class="ot">&lt;-</span> <span class="fu">dt</span>((x <span class="sc">-</span> vyber_stats[<span class="dv">2</span>, <span class="st">&quot;mu&quot;</span>]) <span class="sc">/</span></span>
<span id="cb96-21"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-21" aria-hidden="true" tabindex="-1"></a>     vyber_stats[<span class="dv">2</span>, <span class="st">&quot;se&quot;</span>],</span>
<span id="cb96-22"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-22" aria-hidden="true" tabindex="-1"></a><span class="at">df =</span> vyber_stats[<span class="dv">2</span>, <span class="st">&quot;n&quot;</span>] <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb96-23"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-23" aria-hidden="true" tabindex="-1"></a>) <span class="sc">*</span> <span class="dv">1</span> <span class="sc">/</span> vyber_stats[<span class="dv">2</span>, <span class="st">&quot;se&quot;</span>]</span>
<span id="cb96-24"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-25"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-25" aria-hidden="true" tabindex="-1"></a><span class="co"># vytvorime barvy</span></span>
<span id="cb96-26"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-26" aria-hidden="true" tabindex="-1"></a>cols <span class="ot">&lt;-</span> <span class="fu">rev</span>(RColorBrewer<span class="sc">::</span><span class="fu">brewer.pal</span>(<span class="dv">3</span>, <span class="at">name =</span> <span class="st">&quot;Blues&quot;</span>))</span>
<span id="cb96-27"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-28"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-28" aria-hidden="true" tabindex="-1"></a><span class="co"># zobrazime PDF</span></span>
<span id="cb96-29"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-29" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, pdf_prumer_1,</span>
<span id="cb96-30"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-30" aria-hidden="true" tabindex="-1"></a>     <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb96-31"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-31" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Body&quot;</span>,</span>
<span id="cb96-32"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-32" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;PDF&quot;</span>,</span>
<span id="cb96-33"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-33" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> cols[<span class="dv">1</span>],</span>
<span id="cb96-34"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-34" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb96-35"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-35" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb96-36"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-36" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(x, pdf_prumer_2,</span>
<span id="cb96-37"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-37" aria-hidden="true" tabindex="-1"></a>     <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">col =</span> cols[<span class="dv">2</span>]</span>
<span id="cb96-38"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-38" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb96-39"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-39" aria-hidden="true" tabindex="-1"></a><span class="co"># pridame legendu</span></span>
<span id="cb96-40"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-40" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topright&quot;</span>,</span>
<span id="cb96-41"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-41" aria-hidden="true" tabindex="-1"></a>     <span class="at">legend =</span> <span class="fu">c</span>(</span>
<span id="cb96-42"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-42" aria-hidden="true" tabindex="-1"></a>          <span class="fu">paste0</span>(</span>
<span id="cb96-43"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-43" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;Verze 1 ~ T(&quot;</span>, <span class="fu">round</span>(vyber_stats[<span class="dv">1</span>, <span class="st">&quot;mu&quot;</span>], <span class="dv">2</span>), <span class="st">&quot;, &quot;</span>,</span>
<span id="cb96-44"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-44" aria-hidden="true" tabindex="-1"></a>               <span class="fu">round</span>(vyber_stats[<span class="dv">1</span>, <span class="st">&quot;se&quot;</span>], <span class="dv">2</span>), <span class="st">&quot;, &quot;</span>, vyber_stats[<span class="dv">1</span>, <span class="st">&quot;n&quot;</span>] <span class="sc">-</span> <span class="dv">1</span>, <span class="st">&quot;)&quot;</span></span>
<span id="cb96-45"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-45" aria-hidden="true" tabindex="-1"></a>          ),</span>
<span id="cb96-46"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-46" aria-hidden="true" tabindex="-1"></a>          <span class="fu">paste0</span>(</span>
<span id="cb96-47"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-47" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;Verze 2 ~ T(&quot;</span>, <span class="fu">round</span>(vyber_stats[<span class="dv">2</span>, <span class="st">&quot;mu&quot;</span>], <span class="dv">2</span>), <span class="st">&quot;, &quot;</span>,</span>
<span id="cb96-48"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-48" aria-hidden="true" tabindex="-1"></a>               <span class="fu">round</span>(vyber_stats[<span class="dv">2</span>, <span class="st">&quot;se&quot;</span>], <span class="dv">2</span>), <span class="st">&quot;, &quot;</span>, vyber_stats[<span class="dv">2</span>, <span class="st">&quot;n&quot;</span>] <span class="sc">-</span> <span class="dv">1</span>, <span class="st">&quot;)&quot;</span></span>
<span id="cb96-49"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-49" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb96-50"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-50" aria-hidden="true" tabindex="-1"></a>     ),</span>
<span id="cb96-51"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-51" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> cols[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],</span>
<span id="cb96-52"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-52" aria-hidden="true" tabindex="-1"></a>     <span class="at">lwd =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>),</span>
<span id="cb96-53"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-53" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex =</span> <span class="fl">0.7</span></span>
<span id="cb96-54"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb96-54" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:test2-prumery"></span>
<img src="book_files/figure-html/test2-prumery-1.png" alt="Výběrové rozdělení průměrů pro každou skupinu" width="672" />
<p class="caption">
Graf 6.2: Výběrové rozdělení průměrů pro každou skupinu
</p>
</div>
<p>Graf <a href="porovnání-dvou-průměrů-a-relativních-četností.html#fig:test2-prumery">6.2</a> zobrazuje výběrové rozdělení průměrů obou skupin. Průměrný počet bodů první verze je 36.88. Průměrný počet bodů druhé verze je 45.83, tedy rozdíl -8.95. Jak je ale zřejmé z grafu <a href="porovnání-dvou-průměrů-a-relativních-četností.html#fig:test2-prumery">6.2</a> ohledně obou výběrových průměrů panuje hodně nejistoty, což bychom očekávali vzhledem k tomu, že máme malý počet pozorování v každé skupině a vzhledem k tomu, že existuje velké množství faktorů, které počet bodů ovlivňují. My jsme díky náhodnému přiřazení verzí tyto faktory rozdělili do obou skupin a to se projevuje na velké směrodatné odchylce počtu bodů v obou skupinách.</p>
<p>Abychom zjistili, zda jsou rozdíly v průměrech skutečné a ne pouze díky náhodě, musíme zjistit, zda je jejich populační rozdíl rovný nule<a href="#fn33" class="footnote-ref" id="fnref33"><sup>33</sup></a>, tedy <span class="math inline">\(\mu_1 = \mu_2\)</span> nebo <span class="math inline">\(\mu_1 - \mu_2 = 0\)</span>. Protože populační průměry obou verzí neznáme počítáme s výběrovým průměrným počtem bodů, tedy <span class="math inline">\(N(\overline{x_1}, \frac{s_1}{\sqrt{n_1}}) - N(\overline{x_2}, \frac{s_2}{\sqrt{n_2}})\)</span>. Z kapitoly <a href="prob-dist.html#norm-dist">3.3</a> víme, že když odečítáme dvě normálně rozložené proměnné, pak bude nové proměnná mít normální rozložení s parametry <span class="math inline">\(N(\overline{x_1} - \overline{x_2}, \sqrt{(\frac{s_1}{\sqrt{n_1}})^2 + (\frac{s_2}{\sqrt{n_2}})^2})\)</span>. Pokud je náhodná proměnná rozdělena podle t-rozdělení (jako v našem případě), pak bude počet stupňů volnosti <span class="math inline">\(\upsilon = n_1 + n_2 - 2\)</span>.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-1" aria-hidden="true" tabindex="-1"></a>prumer_d <span class="ot">&lt;-</span> vyber_stats[<span class="dv">1</span>, <span class="st">&quot;mu&quot;</span>] <span class="sc">-</span> vyber_stats[<span class="dv">2</span>, <span class="st">&quot;mu&quot;</span>]</span>
<span id="cb97-2"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-2" aria-hidden="true" tabindex="-1"></a>se_d <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(vyber_stats[<span class="dv">1</span>, <span class="st">&quot;se&quot;</span>]<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> vyber_stats[<span class="dv">2</span>, <span class="st">&quot;se&quot;</span>]<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb97-3"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> vyber_stats[<span class="dv">1</span>, <span class="st">&quot;n&quot;</span>] <span class="sc">+</span> vyber_stats[<span class="dv">2</span>, <span class="st">&quot;n&quot;</span>] <span class="sc">-</span> <span class="dv">2</span></span>
<span id="cb97-4"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-5"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-5" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">32</span>, <span class="dv">15</span>, <span class="at">length.out =</span> <span class="dv">1000</span>)</span>
<span id="cb97-6"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-6" aria-hidden="true" tabindex="-1"></a>pdf_d <span class="ot">&lt;-</span> <span class="fu">dt</span>((x <span class="sc">-</span> prumer_d) <span class="sc">/</span> se_d, <span class="at">df =</span> df) <span class="sc">*</span> <span class="dv">1</span> <span class="sc">/</span> se_d</span>
<span id="cb97-7"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-7" aria-hidden="true" tabindex="-1"></a>q <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb97-8"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-8" aria-hidden="true" tabindex="-1"></a>p_0 <span class="ot">&lt;-</span> <span class="fu">pt</span>((q <span class="sc">-</span> prumer_d) <span class="sc">/</span> se_d, <span class="at">df =</span> df, <span class="at">lower.tail =</span> <span class="cn">FALSE</span>)</span>
<span id="cb97-9"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-10"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, pdf_d,</span>
<span id="cb97-11"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-11" aria-hidden="true" tabindex="-1"></a>     <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb97-12"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-12" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Rozdíl v průměru bodů&quot;</span>,</span>
<span id="cb97-13"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;PDF&quot;</span>,</span>
<span id="cb97-14"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-14" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;grey&quot;</span>,</span>
<span id="cb97-15"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-15" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">&quot;P(x &gt; 0)=&quot;</span>, <span class="fu">round</span>(p_0, <span class="dv">2</span>))</span>
<span id="cb97-16"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb97-17"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-17" aria-hidden="true" tabindex="-1"></a><span class="co"># pridame integral plochy pro P(X &gt; 0)</span></span>
<span id="cb97-18"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-18" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(x[x<span class="sc">&gt;</span>q], pdf_d[x<span class="sc">&gt;</span>q], <span class="at">type =</span> <span class="st">&quot;h&quot;</span>, <span class="at">col =</span> <span class="st">&quot;#1f77b4&quot;</span>, <span class="at">lwd =</span> <span class="dv">1</span>)</span>
<span id="cb97-19"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-20"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-20" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topright&quot;</span>,</span>
<span id="cb97-21"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-21" aria-hidden="true" tabindex="-1"></a>     <span class="at">legend =</span> <span class="fu">paste0</span>(</span>
<span id="cb97-22"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-22" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;T(&quot;</span>, <span class="fu">round</span>(prumer_d, <span class="dv">2</span>), <span class="st">&quot;, &quot;</span>,</span>
<span id="cb97-23"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-23" aria-hidden="true" tabindex="-1"></a>          <span class="fu">round</span>(se_d, <span class="dv">2</span>), <span class="st">&quot;, &quot;</span>, df, <span class="st">&quot;)&quot;</span></span>
<span id="cb97-24"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-24" aria-hidden="true" tabindex="-1"></a>     ),</span>
<span id="cb97-25"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-25" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;grey&quot;</span>,</span>
<span id="cb97-26"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-26" aria-hidden="true" tabindex="-1"></a>     <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb97-27"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-27" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex =</span> <span class="fl">0.7</span></span>
<span id="cb97-28"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb97-28" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:test-rozdil-dist"></span>
<img src="book_files/figure-html/test-rozdil-dist-1.png" alt="Výběrové rozdělení rozdílů v průměre verze 1 a verze 2" width="672" />
<p class="caption">
Graf 6.3: Výběrové rozdělení rozdílů v průměre verze 1 a verze 2
</p>
</div>
<p>Graf <a href="porovnání-dvou-průměrů-a-relativních-četností.html#fig:test-rozdil-dist">6.3</a> ukazuje výběrové rozdělení rozdílu. Protože při odečetení dvou normálně rozdělených proměnných se jejich směrodatná odchylka sčítá, promítá se původní nejistota výběrových průměrů i do výběrověho rozdělení rozdílu obou průměrů. Směrodatná chyba odhadu je 6.11. Pravděpodobnost, že náš výběrový rozdíl nabyde hodnot větších než 0 je <span class="math inline">\(P(x_i &gt; 0)=\)</span> 0.08. Přestože je tato pravděpodobnost malá, rozhodně není zanedbatelná. Je možné, že verze 1 byla těžší, ale na základě našich dat je těžké určit, zda tomu opravdu tak je, nebo zda je to pouze náhoda.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb98-1" aria-hidden="true" tabindex="-1"></a>alpha <span class="ot">&lt;-</span> <span class="fl">0.05</span></span>
<span id="cb98-2"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb98-2" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">c</span>(alpha <span class="sc">/</span> <span class="dv">2</span>, <span class="dv">1</span> <span class="sc">-</span> alpha <span class="sc">/</span> <span class="dv">2</span>)</span>
<span id="cb98-3"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb98-3" aria-hidden="true" tabindex="-1"></a>i_s <span class="ot">&lt;-</span> prumer_d <span class="sc">+</span> <span class="fu">qt</span>(p, <span class="at">df =</span> df) <span class="sc">*</span> se_d</span></code></pre></div>
<p>Interval spolehlivosti pro rozdíl v průměrném počtu bodů obou verzí na hladině spolehlivosti 95% je -21.97, 4.06.</p>
<p>Naši původní otázku o odlišnosti obou verzí bychom mohli formulovat pomocí statistického testu. Nulová hypotéza by v takovém případě byla, že oba průměrný počet bodů obou verzí je stejný <span class="math inline">\(H_0: \mu_1 = \mu_2\)</span> a alternativní hypotéza by byla, že stejné nejsou <span class="math inline">\(H_1: \mu_1 \ne \mu_2\)</span>. Testovací statistiku vypočítáme podle principu vzorce z <a href="stats-test-single.html#test-t-statistika">5.1.3</a>, pčičemž našim výběrovým parametrem není průměr, ale rodíl průměrů <span class="math inline">\(\overline{d}\)</span>. Směrodatná chyba pdhadu je stejná jako v textu nahoře, tedy <span class="math inline">\(se = \sqrt{(\frac{s_1}{\sqrt{n_1}})^2 + (\frac{s_2}{\sqrt{n_2}})^2}\)</span>. Testovací statistiku tedy vypočítáme <span class="math inline">\(t = \frac{\overline{d} - H_0}{se}\)</span>.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb99-1" aria-hidden="true" tabindex="-1"></a>h0 <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb99-2"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb99-2" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> (prumer_d <span class="sc">-</span> h0) <span class="sc">/</span> se_d</span>
<span id="cb99-3"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb99-3" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">pt</span>(t, <span class="at">df =</span> df) <span class="sc">*</span> <span class="dv">2</span></span></code></pre></div>
<p>Testovací statistika je rovná -1.47, což při platnosti <span class="math inline">\(H_0\)</span> a oboustranném testu vychází na p-hodnotu 0.16. Tedy, pravděpodobnost, že bychom zaplatnosti <span class="math inline">\(H_0\)</span> (tedy žádného rozdílu mezi průměry) sledovali rozdíl -8.96 nebo extrémnější<a href="#fn34" class="footnote-ref" id="fnref34"><sup>34</sup></a> je 0.16. Stejně jako v kapitole <a href="stats-test-single.html#stats-test-single">5</a> můžeme použít funkci <code>t.test</code>. Argumenty zůstavají stejné, pouze je potřeba definovat proměnné pro které počítáme průměrný rozdíl. To je možné pomocí <code>formula</code>.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(body <span class="sc">~</span> verze, <span class="at">data =</span> dats)</span></code></pre></div>
<pre><code>## 
##  Welch Two Sample t-test
## 
## data:  body by verze
## t = -1.4671, df = 14.768, p-value = 0.1633
## alternative hypothesis: true difference in means between group verze_1 and group verze_2 is not equal to 0
## 95 percent confidence interval:
##  -21.990993   4.074326
## sample estimates:
## mean in group verze_1 mean in group verze_2 
##              36.87500              45.83333</code></pre>
<p>Výpočet velikosti účinku zůstává stejný, tedy <span class="math inline">\(d = \frac{|(bodovy\;odhad - H_0)|}{smerodatna\;odchylka\;mereni}\)</span>. V případě porovnání dvou průměrů je směrodatnou odchylkou měření <span class="math inline">\(\sqrt{s_1^2 + s_2^2}\)</span>.</p>
<table>
<thead>
<tr class="header">
<th>&lt; 0.2</th>
<th>0.2 - 0.5</th>
<th>0.5 - 0.8</th>
<th>0.8 - 1.2</th>
<th>&gt; 1.2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>velmi malý</td>
<td>malý efekt</td>
<td>střední efekt</td>
<td>velký efekt</td>
<td>velmi velky</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb102-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">abs</span>(prumer_d <span class="sc">-</span> h0) <span class="sc">/</span> <span class="fu">sqrt</span>(vyber_stats[<span class="dv">1</span>, <span class="st">&quot;sd&quot;</span>]<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> vyber_stats[<span class="dv">2</span>, <span class="st">&quot;sd&quot;</span>]<span class="sc">^</span><span class="dv">2</span>)</span></code></pre></div>
<p>V našem případě je Cohenovo d rovno 0.5, což odpovídá malému efektu.</p>
</div>
<div id="dva-závislé-výběry" class="section level3 hasAnchor" number="6.1.2">
<h3><span class="header-section-number">6.1.2</span> Dva závislé výběry<a href="porovnání-dvou-průměrů-a-relativních-četností.html#dva-závislé-výběry" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Pokud jsou pozorování v prvním a druhém výběru závislá, tedy většinou to jsou stejná pozorování, bude výpočet společného směrodatné odchylky rozdílu jiný než v <a href="porovnání-dvou-průměrů-a-relativních-četností.html#t2-test-ind">6.1.1</a>. Protože pozorování v obou výběrech jsou stejná, jsou jejich směrodatné odchylky závislé a proto směrodatná odchylka nové proměnné rozdílu nebude součetem směrodatných odchylek prvního a druhého výběru. Pokud máme dva výběry se stejnými pozorováními a s proměnnými <span class="math inline">\(x_i\)</span> a <span class="math inline">\(y_i\)</span> můžeme vypočítat u každého pozorování rozdíl <span class="math inline">\(d_i\)</span> jako <span class="math inline">\(d_i=x_i - y_i\)</span>. Směrodatnou chybu rozdílu vypočít jako <span class="math inline">\(s_\overline{d} = \frac{s_d}{\sqrt{n}}\)</span>, kde <span class="math inline">\(s_d\)</span> je směrodatná odchylka <span class="math inline">\(x_i - y_i\)</span>. Počet stupňů volnosti vypočítáme jako <span class="math inline">\(\upsilon = n-1\)</span>. Tedy výběrový průměrný rozdíl bude <span class="math inline">\(T(\overline{d}, \frac{s_d}{\sqrt{n}}, n-1)\)</span>.</p>
<p>Jako příklad si ukážeme data z výzkumu trhu. 20 respondentů bylo dotázáno, na jaké značky si vzpomenou. Poté jim bylo ukázáno několik reklam. Po 2 dnech byli stejní respondenti dotázáni opět na značky, které si pamatují. Sloupec <code>pre</code> označuje počet značek, které si respondent zapamatoval. <code>post</code> vyjadřuje počet značek, které si zapamatoval poté, co mu byly ukázány reklamy. Bude nás zajímat, zda reklamy, které respondent viděl měli pozitivní vliv na počet značek, na které si respondent vzpoměl.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb103-1" aria-hidden="true" tabindex="-1"></a>ads <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/schubertjan/uvod-do-statistiky/master/dats/ads.csv&quot;</span>)</span></code></pre></div>
<p>Průměrný počet značek, které si respendenti vybavili před shlédnutím reklam je 4.25, počet značek, které si respondenti vybavili po shlédnutí reklam je 5.8. Zajímá nás, zda je tento rozdíl díky náhodě, nebo zda bychom podobný rozdíl viděli i při opakování experimentu. Graf <a href="porovnání-dvou-průměrů-a-relativních-četností.html#fig:t2-test-dep">6.4</a> zobrazuje výběrové rozdělení prům2rného rozdílu počtu značek, které respodenti zmínili před a po shlédnutí reklam.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(ads)</span>
<span id="cb104-2"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="co"># rozdil </span></span>
<span id="cb104-3"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-3" aria-hidden="true" tabindex="-1"></a>d_i <span class="ot">&lt;-</span> ads<span class="sc">$</span>pre <span class="sc">-</span> ads<span class="sc">$</span>post</span>
<span id="cb104-4"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-4" aria-hidden="true" tabindex="-1"></a><span class="co"># prumerny rozdil</span></span>
<span id="cb104-5"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-5" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">mean</span>(d_i)</span>
<span id="cb104-6"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-6" aria-hidden="true" tabindex="-1"></a><span class="co"># smerodatna odchylka rozdilu</span></span>
<span id="cb104-7"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-7" aria-hidden="true" tabindex="-1"></a>sd_d <span class="ot">&lt;-</span> <span class="fu">sd</span>(d_i)</span>
<span id="cb104-8"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-8" aria-hidden="true" tabindex="-1"></a><span class="co"># smerodatna chyba rozdilu</span></span>
<span id="cb104-9"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-9" aria-hidden="true" tabindex="-1"></a>se_d <span class="ot">&lt;-</span> sd_d <span class="sc">/</span> <span class="fu">sqrt</span>(n)</span>
<span id="cb104-10"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-11"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-11" aria-hidden="true" tabindex="-1"></a><span class="co"># vypocitame pdf vyberového rozdeleni</span></span>
<span id="cb104-12"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-12" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">0</span>, <span class="at">length.out =</span> <span class="dv">1000</span>)</span>
<span id="cb104-13"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-13" aria-hidden="true" tabindex="-1"></a>pdf_d <span class="ot">&lt;-</span> <span class="fu">dt</span>((x<span class="sc">-</span>d)<span class="sc">/</span>se_d, <span class="at">df =</span> n<span class="dv">-1</span>) <span class="sc">*</span> <span class="dv">1</span><span class="sc">/</span>se_d</span>
<span id="cb104-14"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-15"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-15" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, pdf_d,</span>
<span id="cb104-16"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb104-17"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-17" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Rozdíl v počtu značek&quot;</span>,</span>
<span id="cb104-18"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-18" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;PDF&quot;</span>,</span>
<span id="cb104-19"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-19" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;#1f77b4&quot;</span>,</span>
<span id="cb104-20"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-20" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb104-21"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb104-22"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-23"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-23" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topright&quot;</span>,</span>
<span id="cb104-24"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-24" aria-hidden="true" tabindex="-1"></a>     <span class="at">legend =</span> <span class="fu">paste0</span>(</span>
<span id="cb104-25"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-25" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;T(&quot;</span>, <span class="fu">round</span>(d, <span class="dv">2</span>), <span class="st">&quot;, &quot;</span>,</span>
<span id="cb104-26"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-26" aria-hidden="true" tabindex="-1"></a>          <span class="fu">round</span>(se_d, <span class="dv">2</span>), <span class="st">&quot;, &quot;</span>, n<span class="dv">-1</span>, <span class="st">&quot;)&quot;</span></span>
<span id="cb104-27"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-27" aria-hidden="true" tabindex="-1"></a>     ),</span>
<span id="cb104-28"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-28" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;#1f77b4&quot;</span>,</span>
<span id="cb104-29"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-29" aria-hidden="true" tabindex="-1"></a>     <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb104-30"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-30" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex =</span> <span class="fl">0.7</span></span>
<span id="cb104-31"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb104-31" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:t2-test-dep"></span>
<img src="book_files/figure-html/t2-test-dep-1.png" alt="Výběrové rozdělení průměru dvou závislých výběrů" width="672" />
<p class="caption">
Graf 6.4: Výběrové rozdělení průměru dvou závislých výběrů
</p>
</div>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb105-1" aria-hidden="true" tabindex="-1"></a>alpha <span class="ot">&lt;-</span> <span class="fl">0.05</span></span>
<span id="cb105-2"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb105-2" aria-hidden="true" tabindex="-1"></a>q <span class="ot">&lt;-</span> <span class="fu">qt</span>(<span class="fu">c</span>(alpha<span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">-</span>alpha<span class="sc">/</span><span class="dv">2</span>), <span class="at">df =</span> n<span class="dv">-1</span>)</span>
<span id="cb105-3"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb105-3" aria-hidden="true" tabindex="-1"></a>i_s <span class="ot">&lt;-</span> d <span class="sc">+</span> q <span class="sc">*</span> se_d</span></code></pre></div>
<p>Interval spolehlivosti pro výběrový rozdíl na hladině spolehlivosti 95% je [-2.57, -0.53]. Je tedy menší než 0 a můžeme usuzovat, že pokud bychom experimenty opakovali dokola, pak v 95% případů by byl výběrový rozdíl v těchto mezích (a tedy zároveň menší než 0).</p>
<p>Řekněme, že máme hypotézu, že průměrný počet značek se zvýší o 1 a více. Pak bychom mohli formulovat hypotézy:</p>
<p><span class="math inline">\(H_0: \mu_{pre} - \mu_{post} \ge -1\)</span></p>
<p><span class="math inline">\(H_1: \mu_{pre} - \mu_{post} &lt; -1\)</span></p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># stanovime H0</span></span>
<span id="cb106-2"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb106-2" aria-hidden="true" tabindex="-1"></a>h0 <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb106-3"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="co"># vypocitame t statistiku</span></span>
<span id="cb106-4"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb106-4" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> (d<span class="sc">-</span>h0) <span class="sc">/</span> se_d</span>
<span id="cb106-5"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb106-5" aria-hidden="true" tabindex="-1"></a><span class="co"># vypocitame p-hodnotu</span></span>
<span id="cb106-6"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb106-6" aria-hidden="true" tabindex="-1"></a>p_0 <span class="ot">&lt;-</span> <span class="fu">pt</span>(t, <span class="at">df =</span> n<span class="dv">-1</span>)</span></code></pre></div>
<p>Za předpokladu výběrového rozdělení <span class="math inline">\(H_0=\)</span> -1 je pravděpodobnost, že bychom viděli hodnotu průměrného rozdílu -1.55 nebo extrémnější rovna 0.14 a tedy není menší než námi zvolená hladina 0.05 a nemohli bychom zamítnout <span class="math inline">\(H_0\)</span> ve prospěch <span class="math inline">\(H_1\)</span>, že respondenti si po shlédnutí bloku reklam pamatují o jednu nebo více značek.</p>
<p>Ještě si ukážeme, jak bychom tento příklad vypočítali pomocí funkce <code>t.test</code>.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(<span class="at">x =</span> ads<span class="sc">$</span>pre, <span class="at">y =</span> ads<span class="sc">$</span>post, </span>
<span id="cb107-2"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb107-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">conf.level =</span> <span class="dv">1</span><span class="sc">-</span>alpha,</span>
<span id="cb107-3"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb107-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">mu =</span> h0,</span>
<span id="cb107-4"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb107-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">paired =</span> <span class="cn">TRUE</span>,</span>
<span id="cb107-5"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb107-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">alternative =</span> <span class="st">&quot;less&quot;</span>)</span></code></pre></div>
<pre><code>## 
##  Paired t-test
## 
## data:  ads$pre and ads$post
## t = -1.1242, df = 19, p-value = 0.1375
## alternative hypothesis: true difference in means is less than -1
## 95 percent confidence interval:
##        -Inf -0.7040632
## sample estimates:
## mean of the differences 
##                   -1.55</code></pre>
</div>
</div>
<div id="relativní-četnosti" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Relativní četnosti<a href="porovnání-dvou-průměrů-a-relativních-četností.html#relativní-četnosti" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Stejně jako je tomu u porovnání dvou průměrů, je porovnání dvou relativních četností rozšířením konceptů, které jsme si ukazovali v předchozích kapitolách. My si porování dvou relativních četností ukážeme na příkladu A/B testování.</p>
<blockquote>
<p>A/B testování je klasická marketingová metoda (v souvislosti s počítačovými programy také testovací metoda &gt;či metoda pro testování použitelnosti aplikací), jež má za cíl zvýšit konverze či konverzní poměry &gt;projektu prostřednictvím změny jednoho funkčního či designového prvku. Tato metoda byla původně vyvinuta &gt;pro účely testování direct mail, nicméně posléze byla přejata i pro účely testování např. bannerových &gt;reklam nebo cílových stránek.
Zdrof: <a href="https://cs.wikipedia.org/wiki/A/B_testov%C3%A1n%C3%AD">Wikipedia</a></p>
</blockquote>
<p>Následující obrázek ukazuje princip využití A/B testování na příkladu webové stránky. Máme dvě verze stránky, které se liší barvou a tvarem tlačítka “Learn more”. Příchozímu na webovou stránku náhodně nabídneme jednu z verzí stránky a měříme procento lidí, které klikne na dané tlačítko. Ať už jste si toho vědomi nebo ne, podobných A/B testů se účastníte pravidelně na stránkách jako Google nebo Facebook, které touto metodou testují nové prvky na jejich stránkách.</p>
<div class="figure">
<img src="https://upload.wikimedia.org/wikipedia/commons/2/2e/A-B_testing_example.png" alt="" />
<p class="caption">Maxime Lorant, CC BY-SA 4.0 <a href="https://creativecommons.org/licenses/by-sa/4.0" class="uri">https://creativecommons.org/licenses/by-sa/4.0</a>, via Wikimedia Commons</p>
</div>
<p>V našem případě se NGO snaží zjistit, jak nejlépe designovat tlačítko na darování peněz. Vedle současné verze tlačítka, které je hranaté vyvinuli verzi, kde má tlačítko oblé rohy. Po jeden den (od 4hod ráno dne 1 do 4hod ráno dne 2) náhodně příchozím na stránku nabízeli jednu z variant tlačítka na darování peněz. Nasbírali celkem stránku navštívilo za toto období 24519 návštěvníků. 12262 vidělo první variantu tlačítka (hranaté rohy), 12257 vidělo druhou variantu tlačítka (oblé rohy). 451 návštěvníků kliklo na tlačítko darovat v první verzi stránky a 479 kliklo na tlačítko darovat v druhé verzi stránky.</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pocet uzivatelu ve skupinach</span></span>
<span id="cb109-2"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb109-2" aria-hidden="true" tabindex="-1"></a>n1 <span class="ot">&lt;-</span> <span class="dv">12262</span></span>
<span id="cb109-3"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb109-3" aria-hidden="true" tabindex="-1"></a>n2 <span class="ot">&lt;-</span> <span class="dv">12257</span></span>
<span id="cb109-4"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb109-4" aria-hidden="true" tabindex="-1"></a><span class="co"># pocet kliknuti</span></span>
<span id="cb109-5"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb109-5" aria-hidden="true" tabindex="-1"></a>y1 <span class="ot">&lt;-</span> <span class="dv">451</span></span>
<span id="cb109-6"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb109-6" aria-hidden="true" tabindex="-1"></a>y2 <span class="ot">&lt;-</span> <span class="dv">479</span></span>
<span id="cb109-7"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb109-7" aria-hidden="true" tabindex="-1"></a><span class="co"># relativni cetnost ve skupinach</span></span>
<span id="cb109-8"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb109-8" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> y1<span class="sc">/</span>n1</span>
<span id="cb109-9"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb109-9" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> y2<span class="sc">/</span>n2</span></code></pre></div>
<p>Očividně v našich datech kliklo více lidí na druhou verzi a to i pokud vezmem ev potaz počet lidi v každé skupině a vypočítáme relativní četnost. V první skupině kliklo na tlačítko 0.037, v druhé skupině kliklo na tlačítko 0.039. Zajímá nás, zda je tento rozdíl díky náhodě, nebo zda je pravděpodobné, že kdybyhom tento test opakovali, opět bychom uviděli vyšší podíl lidé v druhé skupině, který klik na tlačítko darovat. Rozdíl relativní četnosti bude mít rozložení <span class="math inline">\(N(p_1-p_2, \sqrt{s_1^2 + s_2^2})\)</span>. Přičemž víme, že u relativní četnosti se směrodatná odchylka rovná <span class="math inline">\(s = \sqrt{p (1-p)}\)</span>. Graf <a href="porovnání-dvou-průměrů-a-relativních-četností.html#fig:diff-rel-cet">6.5</a> ukazuje výběrové rozdělení rozdílu relativní četnosti. Protože náš výběr je hodné veliký, používáme normální rozdělení.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># smerodatna odchylka</span></span>
<span id="cb110-2"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-2" aria-hidden="true" tabindex="-1"></a>s1 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(p1 <span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span>p1))</span>
<span id="cb110-3"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-3" aria-hidden="true" tabindex="-1"></a>s2 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(p2 <span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span>p2))</span>
<span id="cb110-4"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-5"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-5" aria-hidden="true" tabindex="-1"></a><span class="co"># vyberove parametry rozdilu</span></span>
<span id="cb110-6"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-6" aria-hidden="true" tabindex="-1"></a>p_d <span class="ot">&lt;-</span> p1 <span class="sc">-</span> p2</span>
<span id="cb110-7"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-7" aria-hidden="true" tabindex="-1"></a><span class="co"># smerodatna chyba rozdilu</span></span>
<span id="cb110-8"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-8" aria-hidden="true" tabindex="-1"></a>se_d <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(s1<span class="sc">^</span><span class="dv">2</span><span class="sc">/</span>n1 <span class="sc">+</span> s2<span class="sc">^</span><span class="dv">2</span><span class="sc">/</span>n2)</span>
<span id="cb110-9"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-10"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-10" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">0.009</span>, <span class="fl">0.005</span>, <span class="at">length.out =</span> <span class="dv">1000</span>)</span>
<span id="cb110-11"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-11" aria-hidden="true" tabindex="-1"></a>pdf_d <span class="ot">&lt;-</span> <span class="fu">dnorm</span>(x, <span class="at">mean =</span> p_d, <span class="at">sd =</span> se_d)</span>
<span id="cb110-12"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-12" aria-hidden="true" tabindex="-1"></a>h0 <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb110-13"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-13" aria-hidden="true" tabindex="-1"></a>p_0 <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(h0, <span class="at">mean =</span> p_d, <span class="at">sd =</span> se_d, <span class="at">lower.tail =</span> <span class="cn">FALSE</span>)</span>
<span id="cb110-14"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-15"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-15" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, pdf_d,</span>
<span id="cb110-16"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb110-17"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-17" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Rozdíl v relativní četnosti&quot;</span>,</span>
<span id="cb110-18"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-18" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;PDF&quot;</span>,</span>
<span id="cb110-19"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-19" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;grey&quot;</span>,</span>
<span id="cb110-20"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-20" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">&quot;P(x &gt; 0)=&quot;</span>, <span class="fu">round</span>(p_0, <span class="dv">2</span>))</span>
<span id="cb110-21"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb110-22"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-22" aria-hidden="true" tabindex="-1"></a><span class="co"># pridame integral plochy pro P(X &gt; 0)</span></span>
<span id="cb110-23"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-23" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(x[x<span class="sc">&gt;</span>h0], pdf_d[x<span class="sc">&gt;</span>h0], <span class="at">type =</span> <span class="st">&quot;h&quot;</span>, <span class="at">col =</span> <span class="st">&quot;#1f77b4&quot;</span>, <span class="at">lwd =</span> <span class="dv">1</span>)</span>
<span id="cb110-24"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-25"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-25" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topright&quot;</span>,</span>
<span id="cb110-26"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-26" aria-hidden="true" tabindex="-1"></a>     <span class="at">legend =</span> <span class="fu">paste0</span>(</span>
<span id="cb110-27"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-27" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;N(&quot;</span>, <span class="fu">round</span>(p_d, <span class="dv">3</span>), <span class="st">&quot;, &quot;</span>,</span>
<span id="cb110-28"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-28" aria-hidden="true" tabindex="-1"></a>          <span class="fu">round</span>(se_d, <span class="dv">3</span>), <span class="st">&quot;)&quot;</span></span>
<span id="cb110-29"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-29" aria-hidden="true" tabindex="-1"></a>     ),</span>
<span id="cb110-30"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-30" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;grey&quot;</span>,</span>
<span id="cb110-31"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-31" aria-hidden="true" tabindex="-1"></a>     <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb110-32"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-32" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex =</span> <span class="fl">0.7</span></span>
<span id="cb110-33"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb110-33" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:diff-rel-cet"></span>
<img src="book_files/figure-html/diff-rel-cet-1.png" alt="Výběrové rozdělení rozdílu relativní četnosti" width="672" />
<p class="caption">
Graf 6.5: Výběrové rozdělení rozdílu relativní četnosti
</p>
</div>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co"># vypocitame inteval spolehlivosti</span></span>
<span id="cb111-2"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb111-2" aria-hidden="true" tabindex="-1"></a>alpha <span class="ot">&lt;-</span> <span class="fl">0.05</span></span>
<span id="cb111-3"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb111-3" aria-hidden="true" tabindex="-1"></a>q <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="fu">c</span>(alpha<span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">-</span>alpha<span class="sc">/</span><span class="dv">2</span>))</span>
<span id="cb111-4"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb111-4" aria-hidden="true" tabindex="-1"></a>i_s <span class="ot">&lt;-</span> <span class="fu">round</span>(p_d <span class="sc">+</span> q <span class="sc">*</span> se_d, <span class="dv">3</span>)</span></code></pre></div>
<p>Výběrový rozdíl v relativních četnost je -0.002. Interval spolehlivosti na hladině spolehlivosti 95% je [-0.007, 0.002]. Nemůžeme tedy vyloučit, že pokud bychom experiment opakovali, rozdíl by mohl být pozitivní, což by znamenalo, že <span class="math inline">\(p_1\)</span> je větší než <span class="math inline">\(p_2\)</span>.</p>
<p>Z hlediska statistické hypotézy nás zajímá zda <span class="math inline">\(H_1: \pi_1 &lt; \pi_2\)</span>, tedy zda <span class="math inline">\(H_1: \pi_1 - \pi_2 &lt; 0\)</span> a tedy nulová hypotéza je <span class="math inline">\(H_0: \pi_1 - \pi_2 \ge 0\)</span>. Graf <a href="porovnání-dvou-průměrů-a-relativních-četností.html#fig:diff-rel-cet-h0">6.6</a> ukazuje výběrové rozdělení rozdílu relativních četností za předpokladu <span class="math inline">\(H_0=0\)</span>. Modrá oblast potom ukazuje oblast zamítnutí <span class="math inline">\(H_0\)</span>.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">0.007</span>, <span class="fl">0.007</span>, <span class="at">length.out =</span> <span class="dv">1000</span>)</span>
<span id="cb112-2"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-2" aria-hidden="true" tabindex="-1"></a>h0 <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb112-3"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-3" aria-hidden="true" tabindex="-1"></a>pdf_d <span class="ot">&lt;-</span> <span class="fu">dnorm</span>(x, <span class="at">mean =</span> h0, <span class="at">sd =</span> se_d)</span>
<span id="cb112-4"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-4" aria-hidden="true" tabindex="-1"></a>p_0 <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(p_d, <span class="at">mean =</span> h0, <span class="at">sd =</span> se_d, <span class="at">lower.tail =</span> <span class="cn">TRUE</span>)</span>
<span id="cb112-5"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-6"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, pdf_d,</span>
<span id="cb112-7"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb112-8"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Rozdíl v relativní četnosti&quot;</span>,</span>
<span id="cb112-9"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;PDF&quot;</span>,</span>
<span id="cb112-10"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;grey&quot;</span>,</span>
<span id="cb112-11"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-11" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">&quot;P(x &lt; &quot;</span>, <span class="fu">round</span>(p_d, <span class="dv">3</span>), <span class="st">&quot;0)=&quot;</span>, <span class="fu">round</span>(p_0, <span class="dv">2</span>))</span>
<span id="cb112-12"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb112-13"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-13" aria-hidden="true" tabindex="-1"></a><span class="co"># pridame integral plochy pro P(X &gt; 0)</span></span>
<span id="cb112-14"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-14" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(x[x<span class="sc">&lt;</span>p_d], pdf_d[x<span class="sc">&lt;</span>p_d], <span class="at">type =</span> <span class="st">&quot;h&quot;</span>, <span class="at">col =</span> <span class="st">&quot;#1f77b4&quot;</span>, <span class="at">lwd =</span> <span class="dv">1</span>)</span>
<span id="cb112-15"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-16"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-16" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topright&quot;</span>,</span>
<span id="cb112-17"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-17" aria-hidden="true" tabindex="-1"></a>     <span class="at">legend =</span> <span class="fu">paste0</span>(</span>
<span id="cb112-18"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-18" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;N(&quot;</span>, h0, <span class="st">&quot;, &quot;</span>,</span>
<span id="cb112-19"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-19" aria-hidden="true" tabindex="-1"></a>          <span class="fu">round</span>(se_d, <span class="dv">3</span>), <span class="st">&quot;)&quot;</span></span>
<span id="cb112-20"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-20" aria-hidden="true" tabindex="-1"></a>     ),</span>
<span id="cb112-21"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-21" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;grey&quot;</span>,</span>
<span id="cb112-22"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-22" aria-hidden="true" tabindex="-1"></a>     <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb112-23"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-23" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex =</span> <span class="fl">0.7</span></span>
<span id="cb112-24"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb112-24" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:diff-rel-cet-h0"></span>
<img src="book_files/figure-html/diff-rel-cet-h0-1.png" alt="Výběrové rozdělení rozdílu relativní četnosti za předpokladu H0" width="672" />
<p class="caption">
Graf 6.6: Výběrové rozdělení rozdílu relativní četnosti za předpokladu H0
</p>
</div>
<p>Pravděpodobnost, že za předpokladu <span class="math inline">\(H_0\)</span> bychom sledovali rozdíl -0.002 nebo více extrémní je 0.17. Pokud zvolíme chybu I. druhu <span class="math inline">\(\alpha=\)</span> 0.05, pak je tato pravděpodobnost větší a proto nemůžeme zamítnou <span class="math inline">\(H_0: \pi_1 - \pi_2 \ge 0\)</span>.</p>
<p>Ukážeme si ještě, že k výpočtu můžeme stejně tako použít bootstrap a to i pokud nemáme celá data (ale pouze parametry). Budeme dělat výběry z rozložení <span class="math inline">\(B(\)</span> 0.037 <span class="math inline">\(,\)</span> 1.2262^{4} <span class="math inline">\()\)</span> a z <span class="math inline">\(B(\)</span> 0.039 <span class="math inline">\(,\)</span> 1.2257^{4} <span class="math inline">\()\)</span>. Vždy vypočítáme rodíl mezi výběrovou relativní četnosti <span class="math inline">\(p_{1Boot}\)</span> a výběrovou relativní četnost <span class="math inline">\(p_{2Boot}\)</span>. Nakonec zobrazíme rozdělení těchto rozdílů.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co"># počet simulaci</span></span>
<span id="cb113-2"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb113-2" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="fl">1e4</span></span>
<span id="cb113-3"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb113-3" aria-hidden="true" tabindex="-1"></a>p_d_boostrap <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, s)</span>
<span id="cb113-4"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb113-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>s) {</span>
<span id="cb113-5"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb113-5" aria-hidden="true" tabindex="-1"></a>  vyber_1 <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(<span class="at">n =</span> <span class="dv">1</span>, <span class="at">size =</span> n1, <span class="at">prob =</span> p1)</span>
<span id="cb113-6"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb113-6" aria-hidden="true" tabindex="-1"></a>  vyber_2 <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(<span class="at">n =</span> <span class="dv">1</span>, <span class="at">size =</span> n2, <span class="at">prob =</span> p2)</span>
<span id="cb113-7"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb113-7" aria-hidden="true" tabindex="-1"></a>  p_d_boostrap[i] <span class="ot">&lt;-</span> vyber_1<span class="sc">/</span>n1 <span class="sc">-</span> vyber_2<span class="sc">/</span>n2</span>
<span id="cb113-8"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb113-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb113-9"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb113-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-10"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb113-10" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(p_d_boostrap, <span class="at">col =</span> <span class="st">&quot;#1f77b4&quot;</span>, </span>
<span id="cb113-11"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb113-11" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Rozdíl v relativní četnosti&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Četnost&quot;</span>, <span class="at">main =</span> <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:diff-rel-cet-boot"></span>
<img src="book_files/figure-html/diff-rel-cet-boot-1.png" alt="Boostrapované rozdělení rozdílu v relativní četnosti" width="672" />
<p class="caption">
Graf 6.7: Boostrapované rozdělení rozdílu v relativní četnosti
</p>
</div>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb114-1" aria-hidden="true" tabindex="-1"></a>i_s <span class="ot">&lt;-</span> <span class="fu">quantile</span>(p_d_boostrap, <span class="at">probs =</span> <span class="fu">c</span>(alpha<span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">-</span>alpha<span class="sc">/</span><span class="dv">2</span>))</span>
<span id="cb114-2"><a href="porovnání-dvou-průměrů-a-relativních-četností.html#cb114-2" aria-hidden="true" tabindex="-1"></a>i_s <span class="ot">&lt;-</span> <span class="fu">round</span>(i_s, <span class="dv">3</span>)</span></code></pre></div>
<p>0.025 kvantil a 0.975 kvantil výběrového rozdílu dvou relativních četností jsou [-0.007, 0.003]. Opět tedy naše data nepodporují hypotézu, že rozdíl je menší než 0 a na základě dostupných dat nedokážeme určit, že by druhá varianta tlačítka s oblými rohy zvyšovala pravděpodobnost darování peněz.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="31">
<li id="fn31"><p>Více například <a href="https://en.wikipedia.org/wiki/Random_assignment">zde</a>.<a href="porovnání-dvou-průměrů-a-relativních-četností.html#fnref31" class="footnote-back">↩︎</a></p></li>
<li id="fn32"><p>Používali jsme ji už v <a href="desc-stats.html#desc-stats">2</a>.<a href="porovnání-dvou-průměrů-a-relativních-četností.html#fnref32" class="footnote-back">↩︎</a></p></li>
<li id="fn33"><p>V tomto případě je populační průěrný počet bodů teoretická hodnota, které bychom dosáhli, kdybychom verzi test dali nekonečně (nebo hodně velkému) počtu studentů.<a href="porovnání-dvou-průměrů-a-relativních-četností.html#fnref33" class="footnote-back">↩︎</a></p></li>
<li id="fn34"><p>V oběma směrech, protože počítáme oboustranný test.<a href="porovnání-dvou-průměrů-a-relativních-četností.html#fnref34" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="stats-test-single.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="porovnání-více-relativních-četností.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"download": false
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
